---
layout: post
title: "cmssl复现每日记录"
description: ""
categories: "项目"
---
预训练数据集找人代下了

## 微调的问题：
### loss：
#### 1. bidmc_hr:
        trainloss和valloss都不错
#### 2. bidmc_rr:
        loss很差劲，val比train还小，val甚至变大，loss无法收敛到很小，train loss从0.8到0.5~0.6，不能无限低，说明模型能力有限，或者训练过程未优化到最好
            - 解决方法：
                1.检查 train/val 是否有重叠（数据泄漏检查），检查后发现重叠样本数和重叠率都是0
                2.检查标签分布和数值范围：
                    >【Train标签】min: 0.0 max: 36.0 mean: 17.216101694915253 std: 4.430171954240327
                    >【Val标签】min: 0.0 max: 36.0 mean: 16.906779661016948 std: 3.8578278074751733
                    #####说明数据本身没有问题
                3.overfit小样本测试+训练流程检查
                    >预测值 vs 真实值（前8个）:
                    >样本0: 预测=16.01, 真实=18.00
                    >样本1: 预测=15.95, 真实=18.00
                    >样本2: 预测=15.89, 真实=18.00
                    >样本3: 预测=16.13, 真实=18.00
                    >样本4: 预测=16.28, 真实=12.00
                    >样本5: 预测=16.13, 真实=18.00
                    >样本6: 预测=15.92, 真实=12.00
                    >样本7: 预测=16.08, 真实=18.00
                    >在预测均值啊，模型根本没学习，梯度传播可能有严重问题
                4.我统计了下模型参数：
                    >总参数数量: 151,809,025
                    >可训练参数: 151,809,025
                    >可训练比例: 100.00%
                    >
                    >Backbone总参数: 151,283,712
                    >Backbone可训练: 151,283,712
                    >Backbone可训练比例: 100.00%
                    >
                    >Head总参数: 525,313
                    >Head可训练: 525,313
                    >Head可训练比例: 100.00%
                5.冻结backbone，只训练head（52万个参数）
                    
