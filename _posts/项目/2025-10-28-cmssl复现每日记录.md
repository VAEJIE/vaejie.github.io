---
layout: post
title: "cmssl复现每日记录"
description: ""
categories: "项目"
---
## 环境库和版本配置
就按requirements的下了，不过不能直接pip install -r requirements.txt，
要 pip install torch==2.7.1 torchvision==0.22.1 --index-url https://download.pytorch.org/w
hl/cu128 这样才能下载，否则会报错：![alt text](/images/posts/论文项目/requirement.png)

## 论文
#### 预训练跨模态Tokenizer阶段
![alt text](/images/posts/论文项目/cmsslpatching.png)
 - ##### patching这里是按固定的长度的窗口来切割，会不会造成一些重要的信息缺失的情况?比如形态和节律特征的缺失、忽略了潜在语义。
*像heartlang设计了一个基于生理先验知识的 QRS-Tokenizer 来实现语义分词*

## 仓库结构
ximosss/cm-ssl/
* `baselines/` *其他 SSL 方法的实现 (SimCLR, BYOL, MoCo-v3 等)*
    * `SimCLR/`
    * `BYOL/`
    * `...`
* `conf/` *Hydra 配置文件*
    * `config.yaml` *主配置文件 (会被 model 和 experiment 覆盖)*
    * `jtwbio_encoder_finetuning.yaml` *Finetuning 主配置*
    * `experiment/` *下游任务配置文件 (uci_sbp.yaml, csn.yaml 等)*
    * `model/` *模型配置文件 (encoder.yaml, simclr.yaml 等)*
* `src/` *CM-SSL 核心代码*
    * `app/` *启动脚本*
        * `run_jtwbio_tokenizer_pretraining.py` *启动 Tokenizer 预训练*
        * `run_jtwbio_encoder_pretraining.py` *启动 Encoder 预训练*
    * `configs/` *LightningCLI 使用的配置文件 (会被 conf/ 覆盖)*
        * `jtwbio_tokenizer_config.yaml`
        * `jtwbio_encoder_config.yaml`
    * `data_modules/`
        * `jtwbio_datamodule.py` *数据加载和预处理 (预训练阶段)*
    * `modules/`
        * `jtwbio_tokenizer.py` *Tokenizer 模型定义 (阶段一)*
        * `jtwbio_encoder.py` *Encoder 模型定义 (阶段二)*
        * `encoder_finetuning.py` *Finetuning 脚本和模型定义 (阶段三)*
        * `vector_quantization.py` *VQ (码本) 相关实现*
    * `utils/`
        * `core.py` *Finetuning 的训练/评估/测试核心逻辑*
        * `optim.py` *优化器相关 (Layer Decay)*
        * `resnet1d.py` *ResNet1D 实现 (可能被 baselines 使用)*
* `data_preprocessing.ipynb` *数据预处理脚本 (Jupyter Notebook)*
* `requirements.txt` *Python 依赖库*
* `run_finetuning.sh` *批量运行 Finetuning 任务的脚本*
* `README.md` *项目说明*